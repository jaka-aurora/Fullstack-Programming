<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Week 4 Async test</title>
</head>
<body>
    <h1>Fetch API Example</h1>
    
    <ul id="result"></ul>
    
    <script>
        async function fetchHighscores() { // makes code more readable and reduces the amount of code, code as it is done now
            try {
                let response = await fetch('highscores.json');
                return await response.json();
            } catch (error) {
                console.log(error);
            }
        }
        async function renderHighscores() {
            let highscores = await fetchHighscores();
            let ul = document.getElementById("result");
            highscores.forEach(highscore => {
                let li = document.createElement("li");
                let text = document.createTextNode(`${highscore.name} :  ${highscore.score}`);
                li.appendChild(text);
                ul.appendChild(li);
            });
        }
        renderHighscores();
  </script>   
</body>
</html>